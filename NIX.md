### Preparation

`examples` flag is off by default in servant-snap.cabal. To build the example use default-example.nix generated by `cabal2nix --flag examples`

```
make default.nix
make default-example.nix
```

### Using nix shell examples

Building core library

```
nix-shell ./release.nix --argstr compiler ghc844 -A servant-snap-no-check.env
# or
nix-shell ./release.nix --argstr compiler ghc862 -A servant-snap-example.env

cabal new-build
```

Building the example

```
nix-shell ./release.nix --argstr compiler ghc844 -A servant-snap-ex-no-check.env

cabal new-repl --flag examples :snap-greet

cabal new-build --flag examples :snap-greet


```

### Testing the example server

```
./dist-newstyle/build/**/snap-greet/snap-greet

# GET
http :8000/api/hello/asdf
# {
#       "_msg": "Hello, asdf"
# }

http :8000/api/hello/asdf?capital=true
# {
#       "_msg": "HELLO, ASDF"
# }

# POST
http :8000/api/greet _msg="asdf"
# {
#       "_msg": "asdf"
# }
```
